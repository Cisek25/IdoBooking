<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IdoBooking AI Generator v4.0</title>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap"
        rel="stylesheet">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Generator UI CSS -->
    <link rel="stylesheet" href="css/generator-ui.css">
</head>

<body>
    <!-- ============================================
         HEADER
         ============================================ -->
    <header class="app-header">
        <div class="header-brand">
            <i class="fas fa-wand-magic-sparkles"></i>
            <span>IdoBooking <strong>AI Generator</strong></span>
            <span class="version-badge">v4.0</span>
        </div>
        <nav class="header-nav">
            <button class="nav-btn" id="btn-save" onclick="saveProject()" title="Zapisz projekt do pliku JSON">
                <i class="fas fa-save"></i> Zapisz
            </button>
            <button class="nav-btn" id="btn-load" onclick="loadProject()" title="Wczytaj projekt z pliku JSON">
                <i class="fas fa-folder-open"></i> Wczytaj
            </button>
            <button class="nav-btn" id="btn-new"><i class="fas fa-plus"></i> Nowy projekt</button>
            <button class="nav-btn" id="btn-help"><i class="fas fa-question-circle"></i> Pomoc</button>
        </nav>
    </header>

    <!-- ============================================
         MAIN CONTAINER
         ============================================ -->
    <main class="app-main">
        <!-- WIZARD PANEL -->
        <section class="wizard-panel" id="wizard-panel">
            <!-- Progress Bar -->
            <div class="wizard-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <div class="progress-steps" id="progress-steps"></div>
            </div>

            <!-- Wizard Content -->
            <div class="wizard-content" id="wizard-content">
                <!-- Steps będą dynamicznie ładowane -->
            </div>

            <!-- Wizard Navigation -->
            <div class="wizard-nav">
                <button class="btn btn-secondary" id="btn-prev" disabled>
                    <i class="fas fa-arrow-left"></i> Wstecz
                </button>
                <div class="wizard-nav-right">
                    <button class="btn btn-ghost" id="btn-skip" onclick="skipWizard()">
                        <i class="fas fa-forward"></i> Pomiń wizard
                    </button>
                    <button class="btn btn-primary" id="btn-next">
                        Dalej <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </section>

        <!-- BUILDER PANEL (po wizardzie) -->
        <section class="builder-panel hidden" id="builder-panel">
            <div class="builder-sidebar">
                <div class="sidebar-header">
                    <h3><i class="fas fa-cog"></i> Konfiguracja</h3>
                </div>

                <!-- AI Recommendation -->
                <div class="ai-recommendation hidden" id="ai-recommendation">
                    <div class="ai-badge"><i class="fas fa-robot"></i> AI Sugeruje</div>
                    <h4 id="ai-template-name">Ładowanie...</h4>
                    <p id="ai-template-desc"></p>
                    <button class="btn btn-sm btn-accent" id="btn-apply-ai" onclick="applyAISuggestion()">
                        <i class="fas fa-magic"></i> Zastosuj sugestię
                    </button>
                    <div class="ai-applied-msg hidden" id="ai-applied-msg">
                        <i class="fas fa-check-circle"></i> Zastosowano!
                    </div>
                </div>


                <!-- Template Gallery -->
                <!-- Treść Główna -->
                <div class="settings-section main-content-panel collapsible">
                    <h4><i class="fas fa-pen-to-square"></i> Treść Główna</h4>
                    <div class="settings-section-content">
                        <div class="form-group">
                            <label>Tytuł Główny</label>
                            <input type="text" id="hero-title" placeholder="Np. Luksusowy Wypoczynek"
                                oninput="updateHeroContent('title', this.value)">
                        </div>
                        <div class="form-group">
                            <label>Podtytuł</label>
                            <input type="text" id="hero-subtitle" placeholder="Np. W sercu gór"
                                oninput="updateHeroContent('subtitle', this.value)">
                        </div>
                        <div class="form-group">
                            <label>Opis Obiektu</label>
                            <textarea id="property-desc" rows="4" placeholder="Opisz swój obiekt..."
                                oninput="updateHeroContent('description', this.value)"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Zdjęcie tła (URL)</label>
                            <input type="text" id="hero-image" placeholder="https://..."
                                onchange="updateHeroContent('image', this.value)">
                            <div class="image-preview-box" id="hero-image-preview"
                                style="height: 100px; background-color: #eee; margin-top: 5px; background-size: cover; background-position: center; border-radius: 4px;">
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-section collapsible collapsed">
                    <h4><i class="fas fa-swatchbook"></i> Wybierz szablon</h4>
                    <div class="settings-section-content">
                        <div class="templates-gallery" id="templates-gallery">
                            <!-- Dynamicznie generowane -->
                        </div>
                    </div>
                </div>

                <!-- Global Settings -->
                <div class="settings-section collapsible collapsed">
                    <h4><i class="fas fa-palette"></i> Kolory</h4>
                    <div class="settings-section-content">
                        <div class="color-pickers">
                            <div class="color-picker-item">
                                <label>Primary</label>
                                <input type="color" id="color-primary" value="#1A365D">
                            </div>
                            <div class="color-picker-item">
                                <label>Secondary</label>
                                <input type="color" id="color-secondary" value="#C9A227">
                            </div>
                            <div class="color-picker-item">
                                <label>Accent</label>
                                <input type="color" id="color-accent" value="#00B894">
                            </div>
                        </div>
                        <div class="color-picker-item" style="margin-top: 15px; width: 100%;">
                            <label>Kontrast Tekstu</label>
                            <select id="text-contrast" onchange="updateTextContrast(this.value)"
                                style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd;">
                                <option value="auto">Automatyczny (Auto)</option>
                                <option value="light">Jasny Tekst (Wymuś)</option>
                                <option value="dark">Ciemny Tekst (Wymuś)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <div class="settings-section collapsible collapsed">
                    <h4><i class="fas fa-font"></i> Czcionki</h4>
                    <div class="settings-section-content">
                        <div class="form-group">
                            <label>Nagłówki</label>
                            <select id="font-heading" onchange="updateFont('heading', this.value)">
                                <option value="Playfair Display">Playfair Display</option>
                                <option value="Montserrat">Montserrat</option>
                                <option value="Poppins">Poppins</option>
                                <option value="Raleway">Raleway</option>
                                <option value="Oswald">Oswald</option>
                                <option value="Cinzel">Cinzel</option>
                                <option value="Lora">Lora</option>
                                <option value="Merriweather">Merriweather</option>
                                <option value="Bebas Neue">Bebas Neue</option>
                                <option value="Archivo Black">Archivo Black</option>
                                <option value="Cormorant Garamond">Cormorant Garamond</option>
                                <option value="Crimson Text">Crimson Text</option>
                                <option value="DM Serif Display">DM Serif Display</option>
                                <option value="Abril Fatface">Abril Fatface</option>
                                <option value="Inter">Inter</option>
                                <option value="Open Sans">Open Sans</option>
                                <option value="Roboto">Roboto</option>
                                <option value="Lato">Lato</option>
                                <option value="Nunito">Nunito</option>
                                <option value="Source Sans Pro">Source Sans Pro</option>
                                <option value="Karla">Karla</option>
                                <option value="Work Sans">Work Sans</option>
                                <option value="Manrope">Manrope</option>
                                <option value="Plus Jakarta Sans">Plus Jakarta Sans</option>
                                <option value="IBM Plex Sans">IBM Plex Sans</option>
                                <option value="Lexend">Lexend</option>
                                <option value="Outfit">Outfit</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tekst</label>
                            <select id="font-body" onchange="updateFont('body', this.value)">
                                <option value="Inter">Inter</option>
                                <option value="Open Sans">Open Sans</option>
                                <option value="Roboto">Roboto</option>
                                <option value="Lato">Lato</option>
                                <option value="Nunito">Nunito</option>
                                <option value="Source Sans Pro">Source Sans Pro</option>
                                <option value="Karla">Karla</option>
                                <option value="Work Sans">Work Sans</option>
                                <option value="Manrope">Manrope</option>
                                <option value="Plus Jakarta Sans">Plus Jakarta Sans</option>
                                <option value="IBM Plex Sans">IBM Plex Sans</option>
                                <option value="Lexend">Lexend</option>
                                <option value="Outfit">Outfit</option>
                                <option value="Playfair Display">Playfair Display</option>
                                <option value="Montserrat">Montserrat</option>
                                <option value="Poppins">Poppins</option>
                                <option value="Raleway">Raleway</option>
                                <option value="Oswald">Oswald</option>
                                <option value="Cinzel">Cinzel</option>
                                <option value="Lora">Lora</option>
                                <option value="Merriweather">Merriweather</option>
                                <option value="Bebas Neue">Bebas Neue</option>
                                <option value="Archivo Black">Archivo Black</option>
                                <option value="Cormorant Garamond">Cormorant Garamond</option>
                                <option value="Crimson Text">Crimson Text</option>
                                <option value="DM Serif Display">DM Serif Display</option>
                                <option value="Abril Fatface">Abril Fatface</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- ============================================
                     MEGA PANEL EFEKTÓW
                     ============================================ -->
                <div class="settings-section effects-panel collapsible collapsed">
                    <h4><i class="fas fa-magic"></i> Efekty i Style</h4>
                    <div class="settings-section-content">
                        <!-- Suwaki rozmiaru czcionek -->
                        <div class="effect-group">
                            <label class="effect-label">
                                <i class="fas fa-text-height"></i> Rozmiar nagłówków
                                <span class="slider-value" id="heading-scale-value">100%</span>
                            </label>
                            <input type="range" id="heading-scale" min="70" max="150" value="100"
                                oninput="updateFontScale('headings', this.value)">
                        </div>

                        <div class="effect-group">
                            <label class="effect-label">
                                <i class="fas fa-font"></i> Rozmiar tekstu
                                <span class="slider-value" id="body-scale-value">100%</span>
                            </label>
                            <input type="range" id="body-scale" min="70" max="150" value="100"
                                oninput="updateFontScale('body', this.value)">
                        </div>
                    </div>
                </div>

                <!-- Presety gradientów -->
                <div class="settings-section gradients-panel collapsible">
                    <h4><i class="fas fa-palette"></i> Presety gradientów</h4>
                    <div class="settings-section-content">
                        <!-- Intensity Control -->
                        <div class="control-group" style="margin-top: 15px;">
                            <label class="control-label" style="display:flex; justify-content:space-between;">
                                <span>Intensywność Efektu</span>
                                <span id="intensity-value"
                                    style="font-weight:bold; color:var(--primary-color);">100%</span>
                            </label>
                            <input type="range" id="effect-intensity" min="0" max="2" step="0.1" value="1"
                                style="width:100%;">
                        </div>

                        <!-- Gradient Categories -->
                        <div class="gradient-categories">
                            <button class="gradient-category-tab active" data-category="warm"
                                onclick="switchGradientCategory('warm')">
                                <i class="fas fa-fire"></i> Ciepłe
                            </button>
                            <button class="gradient-category-tab" data-category="cool"
                                onclick="switchGradientCategory('cool')">
                                <i class="fas fa-snowflake"></i> Chłodne
                            </button>
                            <button class="gradient-category-tab" data-category="natural"
                                onclick="switchGradientCategory('natural')">
                                <i class="fas fa-leaf"></i> Naturalne
                            </button>
                            <button class="gradient-category-tab" data-category="luxury"
                                onclick="switchGradientCategory('luxury')">
                                <i class="fas fa-crown"></i> Luksusowe
                            </button>
                            <button class="gradient-category-tab" data-category="seasonal"
                                onclick="switchGradientCategory('seasonal')">
                                <i class="fas fa-snowflake"></i> Sezonowe
                            </button>
                        </div>

                        <!-- Warm Gradients -->
                        <div class="gradients-grid" data-category="warm">
                            <button class="gradient-btn" data-gradient="sunset" onclick="setGradient('sunset')"
                                title="Zachód słońca">
                                <span style="background:linear-gradient(135deg,#FF6B6B,#FFA502,#FFD93D)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="coral" onclick="setGradient('coral')"
                                title="Koralowa">
                                <span style="background:linear-gradient(135deg,#FF9A9E,#FECFEF,#A8EDEA)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="rose-gold" onclick="setGradient('rose-gold')"
                                title="Różowe złoto">
                                <span style="background:linear-gradient(135deg,#b76e79,#e8b5ce,#f1c40f)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="volcano" onclick="setGradient('volcano')"
                                title="Wulkan">
                                <span style="background:linear-gradient(135deg,#cc2b5e,#753a88,#ff416c)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="sahara" onclick="setGradient('sahara')"
                                title="Sahara">
                                <span style="background:linear-gradient(135deg,#c99a65,#e6c79f,#8b5a2b)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="terracotta" onclick="setGradient('terracotta')"
                                title="Terakota">
                                <span style="background:linear-gradient(135deg,#bc6c25,#dda15e,#283618)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="coffee" onclick="setGradient('coffee')"
                                title="Kawowy">
                                <span style="background:linear-gradient(135deg,#2c1810,#6f4e37,#c9a66b)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="copper" onclick="setGradient('copper')"
                                title="Miedziany">
                                <span style="background:linear-gradient(135deg,#b87333,#cd7f32,#e8a87c)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="peach" onclick="setGradient('peach')"
                                title="Brzoskwinia">
                                <span style="background:linear-gradient(135deg,#ffb199,#ff0844,#ffb199)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="amber" onclick="setGradient('amber')"
                                title="Bursztyn">
                                <span style="background:linear-gradient(135deg,#ff9966,#ff5e62,#ff6e7f)"></span>
                            </button>
                        </div>

                        <!-- Cool Gradients -->
                        <div class="gradients-grid hidden" data-category="cool">
                            <button class="gradient-btn" data-gradient="ocean" onclick="setGradient('ocean')"
                                title="Ocean">
                                <span style="background:linear-gradient(135deg,#0277BD,#4FC3F7,#00BCD4)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="arctic" onclick="setGradient('arctic')"
                                title="Arktyczny">
                                <span style="background:linear-gradient(135deg,#74ebd5,#ACB6E5,#ffffff)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="midnight" onclick="setGradient('midnight')"
                                title="Północ">
                                <span style="background:linear-gradient(135deg,#0F2027,#203A43,#2C5364)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="twilight" onclick="setGradient('twilight')"
                                title="Zmierzch">
                                <span style="background:linear-gradient(135deg,#0f0c29,#302b63,#24243e)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="marine" onclick="setGradient('marine')"
                                title="Marynarski">
                                <span style="background:linear-gradient(135deg,#1e3a5f,#3d5a80,#98c1d9)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="peacock" onclick="setGradient('peacock')"
                                title="Pawi">
                                <span style="background:linear-gradient(135deg,#0a4d4a,#137a7f,#00b4d8)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="steel" onclick="setGradient('steel')"
                                title="Stalowy">
                                <span style="background:linear-gradient(135deg,#485563,#29323c,#667085)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="ice" onclick="setGradient('ice')" title="Lód">
                                <span style="background:linear-gradient(135deg,#a8edea,#fed6e3,#ffffff)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="azure" onclick="setGradient('azure')"
                                title="Lazur">
                                <span style="background:linear-gradient(135deg,#36D1DC,#5B86E5,#667eea)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="neptune" onclick="setGradient('neptune')"
                                title="Neptun">
                                <span style="background:linear-gradient(135deg,#1e3c72,#2a5298,#7597de)"></span>
                            </button>
                        </div>

                        <!-- Natural Gradients -->
                        <div class="gradients-grid hidden" data-category="natural">
                            <button class="gradient-btn" data-gradient="forest" onclick="setGradient('forest')"
                                title="Las">
                                <span style="background:linear-gradient(135deg,#134E5E,#71B280,#38EF7D)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="tropical" onclick="setGradient('tropical')"
                                title="Tropikalny">
                                <span style="background:linear-gradient(135deg,#11998e,#38ef7d,#f5af19)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="emerald" onclick="setGradient('emerald')"
                                title="Szmaragdowy">
                                <span style="background:linear-gradient(135deg,#1d976c,#93f9b9,#2c3e50)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="spring" onclick="setGradient('spring')"
                                title="Wiosenny">
                                <span style="background:linear-gradient(135deg,#f8cdda,#1d976c,#f9d423)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="moss" onclick="setGradient('moss')"
                                title="Mech">
                                <span style="background:linear-gradient(135deg,#606c38,#283618,#fefae0)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="meadow" onclick="setGradient('meadow')"
                                title="Łąka">
                                <span style="background:linear-gradient(135deg,#74c69d,#52b788,#40916c)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="sage" onclick="setGradient('sage')"
                                title="Szałwia">
                                <span style="background:linear-gradient(135deg,#b7b7a4,#a5a58d,#6b705c)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="bamboo" onclick="setGradient('bamboo')"
                                title="Bambus">
                                <span style="background:linear-gradient(135deg,#718355,#87986a,#c8d2b8)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="earth" onclick="setGradient('earth')"
                                title="Ziemia">
                                <span style="background:linear-gradient(135deg,#8b4513,#a0522d,#cd853f)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="desert" onclick="setGradient('desert')"
                                title="Pustynia">
                                <span style="background:linear-gradient(135deg,#d4a373,#e6bc8f,#f4e4c1)"></span>
                            </button>
                        </div>

                        <!-- Luxury Gradients -->
                        <div class="gradients-grid hidden" data-category="luxury">
                            <button class="gradient-btn" data-gradient="aurora" onclick="setGradient('aurora')"
                                title="Aurora">
                                <span style="background:linear-gradient(135deg,#667EEA,#764BA2,#F093FB)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="royal" onclick="setGradient('royal')"
                                title="Królewski">
                                <span style="background:linear-gradient(135deg,#141E30,#243B55,#D4AF37)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="lavender" onclick="setGradient('lavender')"
                                title="Lawendowy">
                                <span style="background:linear-gradient(135deg,#834d9b,#d04ed6,#e8b5ce)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="champagne" onclick="setGradient('champagne')"
                                title="Szampan">
                                <span style="background:linear-gradient(135deg,#f7e7ce,#d4af37,#8b7355)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="wine" onclick="setGradient('wine')"
                                title="Wino">
                                <span style="background:linear-gradient(135deg,#722f37,#a93545,#f4d0d5)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="velvet" onclick="setGradient('velvet')"
                                title="Aksamit">
                                <span style="background:linear-gradient(135deg,#5f0a87,#a4508b,#ff6f91)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="plum" onclick="setGradient('plum')"
                                title="Śliwka">
                                <span style="background:linear-gradient(135deg,#5a189a,#9d4edd,#e0aaff)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="galaxy" onclick="setGradient('galaxy')"
                                title="Galaktyka">
                                <span style="background:linear-gradient(135deg,#2c3e50,#3498db,#9b59b6)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="noir" onclick="setGradient('noir')"
                                title="Noir">
                                <span style="background:linear-gradient(135deg,#000000,#434343,#000000)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="candy" onclick="setGradient('candy')"
                                title="Cukierkowy">
                                <span style="background:linear-gradient(135deg,#ff6fd8,#3813c2,#92fe9d)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="cyberpunk" onclick="setGradient('cyberpunk')"
                                title="Cyberpunk">
                                <span style="background:linear-gradient(135deg,#00d4ff,#ff00ff,#7b00ff)"></span>
                            </button>
                            <button class="gradient-btn" data-gradient="neon" onclick="setGradient('neon')"
                                title="Neonowy">
                                <span style="background:linear-gradient(135deg,#00ff87,#60efff,#ff00ff)"></span>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Seasonal Gradients -->
                <div class="gradients-grid hidden" data-category="seasonal">
                    <!-- Winter -->
                    <button class="gradient-btn" data-gradient="arctic-frost" onclick="setGradient('arctic-frost')"
                        title="Arktyczny Mróz">
                        <span style="background:linear-gradient(135deg, #e0f7fa 0%, #80deea 50%, #4dd0e1 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="polar-night" onclick="setGradient('polar-night')"
                        title="Noc Polarna">
                        <span style="background:linear-gradient(135deg, #0a1628 0%, #1a3a5c 50%, #3f7cac 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="frozen-lake" onclick="setGradient('frozen-lake')"
                        title="Zamarznięte Jezioro">
                        <span style="background:linear-gradient(135deg, #a8d8ea 0%, #aa96da 50%, #fcbad3 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="winter-forest" onclick="setGradient('winter-forest')"
                        title="Zimowy Las">
                        <span style="background:linear-gradient(135deg, #1e3d31 0%, #2e5848 50%, #a8d5ba 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="nordic-lights" onclick="setGradient('nordic-lights')"
                        title="Nordyckie Światła">
                        <span style="background:linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="snowstorm" onclick="setGradient('snowstorm')"
                        title="Burza Śnieżna">
                        <span style="background:linear-gradient(135deg, #e6e9f0 0%, #c1c8d4 50%, #9ba4b5 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="ice-cave" onclick="setGradient('ice-cave')"
                        title="Lodowa Jaskinia">
                        <span style="background:linear-gradient(135deg, #00d4ff 0%, #0099cc 50%, #007acc 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="frosty-morning" onclick="setGradient('frosty-morning')"
                        title="Mroźny Poranek">
                        <span style="background:linear-gradient(135deg, #e8f4fc 0%, #d1e8ff 50%, #b8d4f0 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="glacial" onclick="setGradient('glacial')"
                        title="Lodowiec">
                        <span style="background:linear-gradient(135deg, #134e5e 0%, #71b280 50%, #88d8b0 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="christmas" onclick="setGradient('christmas')"
                        title="Świąteczny">
                        <span style="background:linear-gradient(135deg, #c41e3a 0%, #1a472a 50%, #d4af37 100%)"></span>
                    </button>
                    <!-- Other Seasons -->
                    <button class="gradient-btn" data-gradient="autumn-leaves" onclick="setGradient('autumn-leaves')"
                        title="Jesienne Liście">
                        <span style="background:linear-gradient(135deg, #d4521e 0%, #bf820d 50%, #6b4423 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="harvest" onclick="setGradient('harvest')"
                        title="Zbiory">
                        <span style="background:linear-gradient(135deg, #f4a020 0%, #e67e22 50%, #d35400 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="spring-bloom" onclick="setGradient('spring-bloom')"
                        title="Wiosenny Rozkwit">
                        <span style="background:linear-gradient(135deg, #ffecd2 0%, #fcb69f 50%, #ee9ca7 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="summer-sunset" onclick="setGradient('summer-sunset')"
                        title="Letni Zachód">
                        <span style="background:linear-gradient(135deg, #fa709a 0%, #fee140 50%, #ff9a8b 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="tropical-paradise"
                        onclick="setGradient('tropical-paradise')" title="Tropikalny Raj">
                        <span style="background:linear-gradient(135deg, #00c9ff 0%, #92fe9d 50%, #ffeb3b 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="mountain-dawn" onclick="setGradient('mountain-dawn')"
                        title="Górski Świt">
                        <span style="background:linear-gradient(135deg, #654ea3 0%, #eaafc8 50%, #ff9966 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="ocean-breeze" onclick="setGradient('ocean-breeze')"
                        title="Morska Bryza">
                        <span style="background:linear-gradient(135deg, #2193b0 0%, #6dd5ed 50%, #a8edea 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="forest-mist" onclick="setGradient('forest-mist')"
                        title="Leśna Mgła">
                        <span style="background:linear-gradient(135deg, #5d8a66 0%, #96bb98 50%, #c8e6c9 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="desert-dusk" onclick="setGradient('desert-dusk')"
                        title="Pustynny Zmierzch">
                        <span style="background:linear-gradient(135deg, #d4a373 0%, #bc6c25 50%, #1a1a2e 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="lavender-fields"
                        onclick="setGradient('lavender-fields')" title="Pola Lawendy">
                        <span style="background:linear-gradient(135deg, #e8d5e8 0%, #c8a2c8 50%, #9966cc 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="rainy-day" onclick="setGradient('rainy-day')"
                        title="Deszczowy Dzień">
                        <span style="background:linear-gradient(135deg, #616161 0%, #9bc5c3 50%, #c5e1e7 100%)"></span>
                    </button>
                    <button class="gradient-btn" data-gradient="golden-hour" onclick="setGradient('golden-hour')"
                        title="Złota Godzina">
                        <span style="background:linear-gradient(135deg, #f7971e 0%, #ffd200 50%, #ff8c00 100%)"></span>
                    </button>
                </div>

                <!-- Toggle efektów hover -->
                <div class="settings-section hover-effects-panel collapsible collapsed">
                    <h4><i class="fas fa-hand-pointer"></i> Efekty Hover</h4>
                    <div class="settings-section-content">
                        <div class="toggles-grid">
                            <label class="toggle-label">
                                <input type="checkbox" id="hover-cards" checked
                                    onchange="toggleEffect('hoverEffects.cards', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Karty</span>
                                <span class="help-tooltip"
                                    title="Karty unoszą się do góry przy najechaniu myszką">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="hover-buttons" checked
                                    onchange="toggleEffect('hoverEffects.buttons', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Przyciski</span>
                                <span class="help-tooltip"
                                    title="Przyciski reagują na najechanie efektem świetlnym">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="hover-images" checked
                                    onchange="toggleEffect('hoverEffects.images', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Zoom zdjęć</span>
                                <span class="help-tooltip"
                                    title="Zdjęcia powiększają się lekko przy najechaniu">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="flip-cards"
                                    onchange="toggleEffect('hoverEffects.flipCards', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Flip 3D</span>
                                <span class="help-tooltip"
                                    title="Karty pokoi obracają się w 3D pokazując dodatkowe informacje z tyłu">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="slow-zoom"
                                    onchange="toggleEffect('imageSlowZoom', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Powolne zoom</span>
                                <span class="help-tooltip"
                                    title="Zdjęcia powoli powiększają się tworząc efekt kinowy (Ken Burns)">?</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Animacje -->
                <div class="settings-section animations-panel collapsible collapsed">
                    <h4><i class="fas fa-film"></i> Animacje</h4>
                    <div class="settings-section-content">
                        <div class="toggles-grid">
                            <label class="toggle-label">
                                <input type="checkbox" id="anim-fadeIn" checked
                                    onchange="toggleEffect('animations.fadeIn', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Fade In</span>
                                <span class="help-tooltip"
                                    title="Elementy pojawiają się płynnie podczas przewijania strony">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="anim-slideUp" checked
                                    onchange="toggleEffect('animations.slideUp', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Slide Up</span>
                                <span class="help-tooltip"
                                    title="Elementy wsuwają się od dołu przy przewijaniu">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="anim-parallax"
                                    onchange="toggleEffect('animations.parallax', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Parallax</span>
                                <span class="help-tooltip"
                                    title="Efekt głębi - tło porusza się wolniej niż treść przy przewijaniu">?</span>
                            </label>
                            <label class="toggle-label">
                                <input type="checkbox" id="anim-countUp" checked
                                    onchange="toggleEffect('animations.countUp', this.checked)">
                                <span class="toggle-switch"></span>
                                <span>Liczniki</span>
                                <span class="help-tooltip"
                                    title="Statystyki liczą się od zera do wartości docelowej">?</span>
                            </label>
                        </div>
                    </div>
                </div>

                <!-- Efekty atmosferyczne -->
                <div class="settings-section atmospheric-panel collapsible">
                    <h4><i class="fas fa-snowflake"></i> Efekty atmosferyczne</h4>
                    <div class="settings-section-content">
                        <p class="section-desc"
                            style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: var(--space-3);">
                            Wybierz efekt, który będzie widoczny na podglądzie strony
                        </p>
                        <div class="atmosphere-effects-grid">
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="none" checked
                                    onchange="setAtmosphericEffect('none')">
                                <span class="effect-box">
                                    <i class="fas fa-ban"></i>
                                    <span>Brak</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="snow"
                                    onchange="setAtmosphericEffect('snow')">
                                <span class="effect-box">
                                    <i class="fas fa-snowflake"></i>
                                    <span>Śnieg</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="aurora"
                                    onchange="setAtmosphericEffect('aurora')">
                                <span class="effect-box">
                                    <i class="fas fa-moon"></i>
                                    <span>Zorza</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="rain"
                                    onchange="setAtmosphericEffect('rain')">
                                <span class="effect-box">
                                    <i class="fas fa-cloud-rain"></i>
                                    <span>Deszcz</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="storm"
                                    onchange="setAtmosphericEffect('storm')">
                                <span class="effect-box">
                                    <i class="fas fa-bolt"></i>
                                    <span>Burza</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="wind"
                                    onchange="setAtmosphericEffect('wind')">
                                <span class="effect-box">
                                    <i class="fas fa-wind"></i>
                                    <span>Wiatr</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="drizzle"
                                    onchange="setAtmosphericEffect('drizzle')">
                                <span class="effect-box">
                                    <i class="fas fa-smog"></i>
                                    <span>Mżawka</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="sunrays"
                                    onchange="setAtmosphericEffect('sunrays')">
                                <span class="effect-box">
                                    <i class="fas fa-sun"></i>
                                    <span>Słońce</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="leaves"
                                    onchange="setAtmosphericEffect('leaves')">
                                <span class="effect-box">
                                    <i class="fas fa-leaf"></i>
                                    <span>Liście</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="fireflies"
                                    onchange="setAtmosphericEffect('fireflies')">
                                <span class="effect-box">
                                    <i class="fas fa-star"></i>
                                    <span>Świetliki</span>
                                </span>
                            </label>
                            <label class="effect-radio-label">
                                <input type="radio" name="atmospheric-effect" value="particles"
                                    onchange="setAtmosphericEffect('particles')">
                                <span class="effect-box">
                                    <i class="fas fa-sparkles"></i>
                                    <span>Cząsteczki</span>
                                </span>
                            </label>
                        </div>

                        <!-- Duration Controls -->
                        <div class="effect-duration-controls" id="effect-duration-controls" style="display: none;">
                            <label>
                                <i class="fas fa-clock"></i> Czas trwania efektu
                                <span class="duration-value" id="duration-value">∞</span>
                            </label>
                            <input type="range" id="effect-duration" min="5" max="60" value="60"
                                oninput="updateEffectDuration(this.value)">
                            <label class="checkbox-inline">
                                <input type="checkbox" id="effect-permanent" checked
                                    onchange="togglePermanentEffect(this.checked)">
                                <span>Efekt permanentny (bez limitu czasowego)</span>
                            </label>
                        </div>
                    </div>
                </div>


                <!-- Tryb wyświetlania pokoi -->
                <div class="settings-section rooms-display-panel collapsible collapsed">
                    <h4><i class="fas fa-th-large"></i> Wyświetlanie pokoi</h4>
                    <div class="settings-section-content">
                        <div class="display-mode-btns">
                            <button class="mode-btn active" data-mode="grid" onclick="setRoomsDisplayMode('grid')">
                                <i class="fas fa-th"></i> Grid
                            </button>
                            <button class="mode-btn" data-mode="slider" onclick="setRoomsDisplayMode('slider')">
                                <i class="fas fa-arrows-left-right"></i> Slider
                            </button>
                            <button class="mode-btn" data-mode="masonry" onclick="setRoomsDisplayMode('masonry')">
                                <i class="fas fa-grip"></i> Masonry
                            </button>
                        </div>
                        <label class="toggle-label" style="margin-top:var(--space-3)">
                            <input type="checkbox" id="show-categories" checked
                                onchange="toggleRoomCategories(this.checked)">
                            <span class="toggle-switch"></span>
                            <span>Pokaż kategorie pokoi</span>
                        </label>
                    </div>
                </div>

                <!-- Stylowanie podstrony /offers -->
                <div class="settings-section offers-styling-panel collapsible collapsed">
                    <h4><i class="fas fa-list-alt"></i> Podstrona /offers</h4>
                    <div class="settings-section-content">
                        <p class="section-desc"
                            style="font-size: 0.8rem; color: var(--text-muted); margin-bottom: var(--space-3);">
                            Generuj CSS dla systemowej podstrony z listą ofert. Style będą automatycznie dopasowane do
                            Twoich kolorów.
                        </p>

                        <!-- Toggle główny -->
                        <label class="toggle-label"
                            style="margin-bottom: var(--space-4); padding: 12px; background: var(--bg-tertiary); border-radius: 8px;">
                            <input type="checkbox" id="offers-enable-styling"
                                onchange="toggleOffersPageStyling(this.checked)">
                            <span class="toggle-switch"></span>
                            <span><strong>Włącz stylowanie /offers</strong></span>
                        </label>

                        <!-- Opcje stylowania (widoczne gdy włączone) -->
                        <div class="offers-options" id="offers-options" style="display: none;">

                            <!-- Filtry -->
                            <div class="effect-group" style="margin-bottom: var(--space-4);">
                                <label class="effect-label" style="margin-bottom: var(--space-2);"><i
                                        class="fas fa-sliders-h"></i> Panel filtrów</label>
                                <div class="toggles-grid">
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-filters-collapse" checked
                                            onchange="updateOffersSetting('filtersCollapsible', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Zwijane filtry</span>
                                        <span class="help-tooltip"
                                            title="Dodaje możliwość zwijania sekcji filtrów">?</span>
                                    </label>
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-filters-modern" checked
                                            onchange="updateOffersSetting('filtersModern', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Nowoczesny styl</span>
                                        <span class="help-tooltip"
                                            title="Nowoczesny wygląd checkboxów i paneli filtrów">?</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Karty ofert -->
                            <div class="effect-group" style="margin-bottom: var(--space-4);">
                                <label class="effect-label" style="margin-bottom: var(--space-2);"><i
                                        class="fas fa-th-large"></i> Karty ofert</label>
                                <div class="toggles-grid">
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-cards-hover" checked
                                            onchange="updateOffersSetting('cardsHover', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Efekty hover</span>
                                        <span class="help-tooltip"
                                            title="Karty unoszą się przy najechaniu myszką">?</span>
                                    </label>
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-cards-rounded" checked
                                            onchange="updateOffersSetting('cardsRounded', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Zaokrąglone rogi</span>
                                        <span class="help-tooltip" title="Karty i obrazy mają zaokrąglone rogi">?</span>
                                    </label>
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-cards-shadow" checked
                                            onchange="updateOffersSetting('cardsShadow', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Cienie</span>
                                        <span class="help-tooltip" title="Dodaje delikatne cienie pod kartami">?</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Przyciski -->
                            <div class="effect-group" style="margin-bottom: var(--space-4);">
                                <label class="effect-label" style="margin-bottom: var(--space-2);"><i
                                        class="fas fa-hand-pointer"></i> Przyciski</label>
                                <div class="toggles-grid">
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-btns-rounded" checked
                                            onchange="updateOffersSetting('buttonsRounded', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Zaokrąglone</span>
                                        <span class="help-tooltip"
                                            title="Przyciski mają zaokrąglone rogi (pill-style)">?</span>
                                    </label>
                                    <label class="toggle-label">
                                        <input type="checkbox" id="offers-btns-gradient"
                                            onchange="updateOffersSetting('buttonsGradient', this.checked)">
                                        <span class="toggle-switch"></span>
                                        <span>Gradient</span>
                                        <span class="help-tooltip"
                                            title="Przyciski używają wybranego gradientu">?</span>
                                    </label>
                                </div>
                            </div>

                            <!-- Tło strony -->
                            <div class="effect-group">
                                <label class="effect-label" style="margin-bottom: var(--space-2);"><i
                                        class="fas fa-fill-drip"></i> Tło strony</label>
                                <select id="offers-background" onchange="updateOffersSetting('background', this.value)"
                                    style="width: 100%; padding: 8px; border-radius: 4px; border: 1px solid #ddd;">
                                    <option value="white">Białe (domyślne)</option>
                                    <option value="light">Jasne szare</option>
                                    <option value="gradient">Delikatny gradient</option>
                                    <option value="pattern">Subtelny wzór</option>
                                </select>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="settings-section collapsible">
                    <h4><i class="fas fa-puzzle-piece"></i> Sekcje</h4>
                    <div class="settings-section-content">
                        <div class="sections-checklist" id="sections-checklist">
                            <!-- Dynamicznie generowane -->
                        </div>
                    </div>
                </div>

                <div class="settings-section collapsible collapsed">
                    <h4><i class="fas fa-map-marker-alt"></i> Lokalizacja</h4>
                    <div class="settings-section-content">
                        <div class="form-group">
                            <label>Adres obiektu</label>
                            <input type="text" id="location-address" placeholder="np. ul. Przykładowa 123, Warszawa"
                                oninput="updateAddress(this.value)">
                        </div>
                        <div class="form-group">
                            <label>Nazwa obiektu</label>
                            <input type="text" id="property-name" placeholder="np. Hotel Panorama"
                                oninput="updatePropertyName(this.value)">
                        </div>
                    </div>
                </div>

                <!-- AI Gemini Chat (bottom-left) -->
                <div class="settings-section ai-chat-section ai-config-bottom collapsible collapsed">
                    <h4>
                        <i class="fas fa-brain"></i> Gemini AI Chat
                        <button class="help-btn" onclick="showAIHelp()" title="Pomoc">
                            <i class="fas fa-question-circle"></i>
                        </button>
                    </h4>

                    <div class="settings-section-content">
                        <div class="ai-api-key-wrapper">
                            <label>Klucz API Gemini</label>
                            <div class="api-key-input-group">
                                <input type="password" id="gemini-api-key"
                                    value="AIzaSyAS-cWUZFngR_YScZhihVzWJCBfo4tfodg"
                                    placeholder="Wklej klucz z Google AI Studio">
                                <button class="btn btn-icon" onclick="toggleApiKeyVisibility()" title="Pokaż/ukryj">
                                    <i class="fas fa-eye" id="api-key-toggle-icon"></i>
                                </button>
                            </div>
                        </div>

                        <div class="ai-token-counter">
                            <span><i class="fas fa-coins"></i> Użyte tokeny:</span>
                            <strong id="token-count">0</strong> / 1,000,000
                            <div class="token-bar">
                                <div class="token-bar-fill" id="token-bar-fill" style="width: 0%"></div>
                            </div>
                        </div>

                        <div class="ai-prompt-wrapper">
                            <label>Opisz co chcesz zmienić</label>
                            <textarea id="ai-prompt" rows="3"
                                placeholder="np. Zmień kolory na cieplejsze, dodaj więcej informacji o SPA, napisz opis pokoju deluxe..."></textarea>
                        </div>

                        <button class="btn btn-ai-generate" onclick="generateWithGemini()">
                            <i class="fas fa-sparkles"></i> Generuj z AI
                        </button>

                        <div class="ai-response-wrapper hidden" id="ai-response-wrapper">
                            <label>Odpowiedź AI:</label>
                            <div class="ai-response" id="ai-response"></div>
                            <button class="btn btn-sm btn-accent" onclick="applyAIResponse()">
                                <i class="fas fa-check"></i> Zastosuj zmiany
                            </button>
                        </div>

                        <div class="ai-loading hidden" id="ai-loading">
                            <i class="fas fa-spinner fa-spin"></i> Generuję...
                        </div>
                    </div>
                </div>

                <!-- AI Help Modal -->
                <div class="ai-help-modal hidden" id="ai-help-modal">
                    <div class="ai-help-content">
                        <button class="close-btn" onclick="hideAIHelp()"><i class="fas fa-times"></i></button>
                        <h3><i class="fas fa-question-circle"></i> Jak zmienić klucz API</h3>
                        <ol>
                            <li>Wejdź na <a href="https://aistudio.google.com/apikey" target="_blank">Google AI
                                    Studio</a></li>
                            <li>Zaloguj się kontem Google</li>
                            <li>Kliknij "Create API Key"</li>
                            <li>Skopiuj klucz i wklej powyżej</li>
                        </ol>
                        <p><strong>Limit:</strong> 1 milion tokenów/miesiąc za darmo. <br>Możesz utworzyć nowy klucz
                            w
                            nowym projekcie jeśli wyczerpiesz limit.</p>
                    </div>
                </div>
            </div>
            </div>

            <div class="builder-main">
                <!-- Rooms/Objects Editor -->
                <div class="objects-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-bed"></i> Pokoje / Obiekty</h3>
                        <button class="btn btn-primary" id="btn-add-object">
                            <i class="fas fa-plus"></i> Dodaj pokój
                        </button>
                    </div>
                    <div class="objects-grid" id="objects-grid">
                        <!-- Dynamicznie generowane karty pokoi -->
                    </div>
                </div>

                <!-- FAQ Editor - Collapsible -->
                <div class="faq-editor-panel collapsible collapsed" id="faq-editor-panel">
                    <div class="panel-header collapsible-header" onclick="toggleFaqEditor()">
                        <h3><i class="fas fa-question-circle"></i> Edytor FAQ
                            <span class="collapse-indicator"><i class="fas fa-chevron-down"></i></span>
                        </h3>
                        <button class="btn btn-primary btn-sm" onclick="event.stopPropagation(); addFaqItem()">
                            <i class="fas fa-plus"></i> Dodaj
                        </button>
                    </div>
                    <div class="faq-items-list collapsible-content" id="faq-items-list">
                        <!-- Dynamicznie generowane pytania -->
                    </div>
                </div>

                <!-- Generate Button -->
                <div class="generate-section">
                    <button class="btn btn-generate" id="btn-generate">
                        <i class="fas fa-rocket"></i> Generuj kod dla IdoBooking
                    </button>
                    <button class="btn btn-primary" onclick="openSubpageModal()" style="margin-top: var(--space-3);">
                        <i class="fas fa-file-alt"></i> Utwórz nową podstronę
                    </button>
                </div>
            </div>

            <div class="builder-preview" id="builder-preview">
                <div class="preview-header">
                    <h3><i class="fas fa-eye"></i> Podgląd</h3>
                    <div class="preview-controls">
                        <button class="preview-btn active" data-view="desktop"><i class="fas fa-desktop"></i></button>
                        <button class="preview-btn" data-view="tablet"><i class="fas fa-tablet-alt"></i></button>
                        <button class="preview-btn" data-view="mobile"><i class="fas fa-mobile-alt"></i></button>
                        <button class="preview-btn preview-fullscreen" id="btn-fullscreen" title="Pełny ekran"><i
                                class="fas fa-expand"></i></button>
                    </div>
                </div>
                <div class="preview-frame" id="preview-frame">
                    <iframe id="preview-iframe" src="about:blank"></iframe>
                </div>
            </div>
        </section>

        <!-- EXPORT MODAL -->
        <div class="modal hidden" id="export-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content modal-xl">
                <div class="modal-header">
                    <h2><i class="fas fa-download"></i> Eksport kodu dla IdoBooking</h2>
                    <button class="modal-close" id="close-export">&times;</button>
                </div>
                <div class="modal-body">
                    <!-- Tabs -->
                    <div class="export-tabs">
                        <button class="export-tab active" data-tab="head">
                            <i class="fas fa-code"></i> Strona główna HEAD
                        </button>
                        <button class="export-tab" data-tab="sections">
                            <i class="fas fa-layer-group"></i> Sekcje do tekstu/obrazków
                        </button>
                        <button class="export-tab" data-tab="styles">
                            <i class="fas fa-palette"></i> Arkusz stylów CSS
                        </button>
                        <button class="export-tab" data-tab="scripts">
                            <i class="fas fa-file-code"></i> Koniec sekcji body
                        </button>
                        <button class="export-tab" data-tab="subpage">
                            <i class="fas fa-file-alt"></i> Nowa podstrona
                        </button>
                    </div>

                    <!-- Tab Content -->
                    <div class="export-content">
                        <div class="export-pane active" id="pane-head">
                            <div class="code-header">
                                <span>Wklej w CMS → HEAD</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copyCode('head')"><i class="fas fa-copy"></i>
                                        Kopiuj</button>
                                    <button class="btn btn-sm" onclick="downloadCode('head.html', 'head')"><i
                                            class="fas fa-download"></i> Pobierz</button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="code-head"></code></pre>
                        </div>
                        <div class="export-pane" id="pane-sections">
                            <div class="code-header">
                                <span>Wklej w CMS → Sekcje BODY</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copyCode('sections')"><i
                                            class="fas fa-copy"></i> Kopiuj</button>
                                    <button class="btn btn-sm" onclick="downloadCode('sections.html', 'sections')"><i
                                            class="fas fa-download"></i> Pobierz</button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="code-sections"></code></pre>
                        </div>
                        <div class="export-pane" id="pane-styles">
                            <div class="code-header">
                                <span>Wklej w CMS → Custom CSS</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copyCode('styles')"><i class="fas fa-copy"></i>
                                        Kopiuj</button>
                                    <button class="btn btn-sm" onclick="downloadCode('styles.css', 'styles')"><i
                                            class="fas fa-download"></i> Pobierz</button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="code-styles"></code></pre>
                        </div>
                        <div class="export-pane" id="pane-scripts">
                            <div class="code-header">
                                <span>Wklej w CMS → Koniec sekcji body</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copyCode('scripts')"><i class="fas fa-copy"></i>
                                        Kopiuj</button>
                                    <button class="btn btn-sm" onclick="downloadCode('scripts.html', 'scripts')"><i
                                            class="fas fa-download"></i> Pobierz</button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="code-scripts"></code></pre>
                        </div>
                        <div class="export-pane" id="pane-subpage">
                            <div class="code-header">
                                <span>Kod gotowy dla nowej podstrony (tylko zawartość BODY)</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copyCode('subpage')"><i class="fas fa-copy"></i>
                                        Kopiuj</button>
                                    <button class="btn btn-sm" onclick="downloadCode('subpage.html', 'subpage')"><i
                                            class="fas fa-download"></i> Pobierz</button>
                                </div>
                            </div>
                            <div class="subpage-info">
                                <i class="fas fa-info-circle"></i>
                                <p>Ten kod zawiera tylko zawartość sekcji bez nagłówka i stopki. Idealny do tworzenia
                                    nowych podstron w systemie CMS, gdzie nagłówek i stopka są wspólne dla wszystkich
                                    stron.</p>
                            </div>
                            <pre class="code-block"><code id="code-subpage"></code></pre>
                        </div>
                    </div>

                    <!-- Download All -->
                    <div class="export-footer">
                        <button class="btn btn-primary btn-lg" id="btn-download-all">
                            <i class="fas fa-file-archive"></i> Pobierz wszystkie pliki (ZIP)
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- OBJECT EDITOR MODAL -->
        <div class="modal hidden" id="object-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <div class="modal-header">
                    <h2 id="object-modal-title"><i class="fas fa-bed"></i> Edytuj pokój</h2>
                    <button class="modal-close" id="close-object">&times;</button>
                </div>
                <div class="modal-body" id="object-modal-body">
                    <!-- Dynamicznie generowany formularz -->
                </div>
            </div>
        </div>

        <!-- SUBPAGE CREATOR MODAL -->
        <div class="modal hidden" id="subpage-modal">
            <div class="modal-overlay"></div>
            <div class="modal-content modal-xl">
                <div class="modal-header">
                    <h2><i class="fas fa-file-alt"></i> Kreator Podstrony</h2>
                    <button class="modal-close" onclick="closeSubpageModal()">×</button>
                </div>
                <div class="modal-body">
                    <p style="margin-bottom: var(--space-4); color: var(--text-secondary);">
                        <i class="fas fa-info-circle"></i> Wybierz sekcje, które chcesz umieścić na nowej podstronie.
                        Kod będzie zawierał tylko wybrane sekcje <strong>bez nagłówka i stopki</strong>.
                    </p>

                    <!-- Section Checkboxes -->
                    <div class="subpage-sections">
                        <h4 style="margin-bottom: var(--space-3);">Wybierz sekcje:</h4>
                        <div
                            style="display: grid; grid-template-columns: repeat(2, 1fr); gap: var(--space-3); margin-bottom: var(--space-5);">
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="intro" checked>
                                <span><i class="fas fa-home"></i> Sekcja wprowadzająca</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="amenities">
                                <span><i class="fas fa-concierge-bell"></i> Udogodnienia</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="rooms">
                                <span><i class="fas fa-bed"></i> Pokoje</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="gallery">
                                <span><i class="fas fa-images"></i> Galeria</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="testimonials">
                                <span><i class="fas fa-star"></i> Opinie</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="faq">
                                <span><i class="fas fa-question-circle"></i> FAQ</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="location">
                                <span><i class="fas fa-map-marker-alt"></i> Lokalizacja</span>
                            </label>
                            <label class="checkbox-label">
                                <input type="checkbox" class="subpage-section-checkbox" value="cta">
                                <span><i class="fas fa-phone"></i> Call to Action</span>
                            </label>
                        </div>
                    </div>

                    <!-- Generated Code Preview -->
                    <div class="export-tabs" style="margin-bottom: var(--space-3);">
                        <button class="export-tab active" data-tab="body-html">
                            <i class="fas fa-code"></i> Kod BODY
                        </button>
                        <button class="export-tab" data-tab="head-styles">
                            <i class="fas fa-palette"></i> Style HEAD
                        </button>
                        <button class="export-tab" data-tab="css-styles">
                            <i class="fas fa-file-code"></i> CSS
                        </button>
                    </div>

                    <div class="export-content">
                        <div class="export-pane active" id="pane-body-html">
                            <div class="code-header">
                                <span>Wklej w sekcji BODY (bez header/footer)</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copySubpageCode('body-html')">
                                        <i class="fas fa-copy"></i> Kopiuj
                                    </button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="subpage-body-html"></code></pre>
                        </div>
                        <div class="export-pane" id="pane-head-styles">
                            <div class="code-header">
                                <span>Wklej w HEAD (style inline)</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copySubpageCode('head-styles')">
                                        <i class="fas fa-copy"></i> Kopiuj
                                    </button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="subpage-head-styles"></code></pre>
                        </div>
                        <div class="export-pane" id="pane-css-styles">
                            <div class="code-header">
                                <span>Arkusz CSS</span>
                                <div class="code-actions">
                                    <button class="btn btn-sm" onclick="copySubpageCode('css-styles')">
                                        <i class="fas fa-copy"></i> Kopiuj
                                    </button>
                                </div>
                            </div>
                            <pre class="code-block"><code id="subpage-css-styles"></code></pre>
                        </div>
                    </div>

                    <div style="margin-top: var(--space-4); text-align: right;">
                        <button class="btn btn-primary btn-lg" onclick="generateSubpage()">
                            <i class="fas fa-code"></i> Generuj kod podstrony
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Section Editor Modal -->
    <div class="modal-overlay hidden" id="section-editor-modal">
        <div class="modal section-editor-content">
            <div class="modal-header">
                <h3 id="section-editor-title">Edytuj sekcję</h3>
                <button class="btn-close" onclick="closeSectionEditor()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body" id="section-editor-form">
                <!-- Dynamicznie generowany formularz -->
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" onclick="closeSectionEditor()">Anuluj</button>
                <button class="btn btn-primary" onclick="saveSectionContent()">
                    <i class="fas fa-save"></i> Zapisz zmiany
                </button>
            </div>
        </div>
    </div>

    <!-- ============================================
         SCRIPTS
         ============================================ -->
    <script src="data/templates.js"></script>
    <script src="data/about-sections.js"></script>
    <script src="data/room-presets.js"></script>
    <script src="data/sections.js"></script>
    <script src="data/amenities.js"></script>
    <script src="data/room-presets.js"></script>
    <script src="js/ai-engine.js"></script>
    <script src="js/wizard.js"></script>
    <script src="js/template-engine.js"></script>
    <script src="js/css-engine.js?v=3"></script>
    <script src="js/preview.js?v=3"></script>
    <script src="js/gemini-api.js"></script>
    <script src="js/visual-effects.js?v=3"></script>
    <script src="js/app.js?v=3"></script>
</body>

</html>